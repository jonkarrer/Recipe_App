<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles/global.css" />
    <link rel="stylesheet" href="./styles/New_Recipe/index.css" />
    <title>Recipe App</title>

    <style></style>
  </head>

  <body>
    <main>
      <section class="name">
        <input
          id="recipe_name"
          type="text"
          name="Recipe Name"
          placeholder="Recipe Name"
        />
      </section>

      <section class="catagory">
        <div class="add-info">
          <h6>Catagory</h6>
          <span id="toggle-switch-catagory">+</span>
        </div>
      </section>

      <section class="ingredient">
        <span class="add-info">
          <h6>Ingredient</h6>
          <h1>+</h1>
        </span>
      </section>

      <section class="method">
        <span class="add-info">
          <h6>Method</h6>
          <h1>+</h1>
        </span>
      </section>

      <section class="note">
        <span class="add-info">
          <h6>Note</h6>
          <h1>+</h1>
        </span>
      </section>
    </main>
    <script>
      let toggle = false;

      const catagoryName = document.querySelector(".catagory h6");
      const toggleSwitch = document.getElementById("toggle-switch-catagory");

      catagoryName.addEventListener("click", (e) => openCatagoryMenu(e));

      toggleSwitch.addEventListener("click", (e) => openCatagoryMenu(e), true);

      function openCatagoryMenu(e) {
        e.stopPropagation();

        toggle = !toggle;

        if (toggle) {
          toggleSwitch.innerText = "-";
          appendCatagories();
          return;
        } else {
          teardownCatagories();
          toggleSwitch.innerText = "+";
        }

        function teardownCatagories() {
          let teardownTarget = document.querySelector(".bubbles-container");
          teardownTarget.remove();
        }

        function createContainer() {
          const parent = document.createElement("div");
          parent.className = "bubbles-container";

          const child = document.createElement("div");
          child.className = "overflow-wrapper";

          parent.append(child);
          const catagory = document.querySelector(".catagory");
          catagory.append(parent);
        }

        function createBubbles() {
          const wrapper = document.querySelector(".overflow-wrapper");

          for (i = 0; i < 6; i++) {
            const bubble = document.createElement("div");
            bubble.innerText = `Bubble ${i}`;
            wrapper.append(bubble);
          }
        }

        function appendCatagories() {
          createContainer();
          createBubbles();
          return;
        }
      }
    </script>
  </body>
</html>

<!-- <template id="catagory-template">
    <style>
      span {
        display: flex;
        align-items: center;
        justify-content: space-between;

        width: 90%;
        margin: auto;

        color: var(--theme-lt-text);

        background: red;

        pointer-events: none;
      }
      span:hover {
        cursor: pointer;
      }
      h6 {
        font-size: 1.8rem;
      }
      .openContainer {
        display: grid;
      }
      .grid {
        display: flex;
      }
    </style>
    <div class="openContainer">
      <span>
        <h6>Catagory</h6>
        <h1>-</h1>
      </span>
      <div class="grid">
        <p>item one</p>
        <p>item one</p>
        <p>item one</p>
      </div>
    </div>
  </template> -->

<!-- <script>
      let container = document.querySelectorAll(".container");

      container.forEach((item) =>
        item.addEventListener("click", (e) => openContainer(e))
      );

      function openContainer(e) {
        let newTemp = document.createElement("catagory-template");
        e.currentTarget.prepend(newTemp);
      }

      customElements.define(
        "catagory-template",
        class extends HTMLElement {
          constructor() {
            super();
            let template = document.getElementById("catagory-template");
            let templateContent = template.content;

            const shadowRoot = this.attachShadow({
              mode: "open",
            }).appendChild(templateContent.cloneNode(true));
          }
        }
      );
    </script> -->
